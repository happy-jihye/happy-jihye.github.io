---
title: "[Web3/Dapps Project] ê°„ë‹¨í•œ NFT Application ì œì‘ê¸° ğŸ¨ğŸ–¼"
excerpt: ""

categories: 
  - NFT
tags: 
  - nft
  - blockchain
  - ethereum
  - solidity
# ëª©ì°¨
toc: true  
toc_sticky: true 

---

# NFT Application ğŸ–¼:: ì•„ì´ëŒ í¬í† ì¹´ë“œ ê±°ë˜ì†Œ

> ìµœê·¼ì— NFTì™€ ë¸”ë¡ì²´ì¸ì— ê´€ì‹¬ì´ ìƒê²¨ OpenSea ë§ˆì¼“ë„ ì—´ì–´ë³´ê³ , ì—¬ëŸ¬ ì„œì ë„ ì½ì–´ë³´ë©´ì„œ ê³µë¶€ë¥¼ í•´ë³´ê³  ìˆëŠ”ë°ìš” :) 
> - [Openseaë¡œ NFT ê·¸ë¦¼ íŒë§¤í•˜ê¸°ğŸ¨ğŸ–¼](https://happy-jihye.github.io/nft/nft-1)
> 
> ì˜¤ëŠ˜ì€ ê°„ë‹¨í•˜ê²Œ ì œì‘í•´ë³¸ NFT ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ì†Œê°œí•´ë“œë¦¬ê³ ì í•©ë‹ˆë‹¤! (íŠœí† ë¦¬ì–¼ë³´ë‹¤ëŠ” ì½”ë“œ ì €ì¥ìš© í¬ìŠ¤íŒ…ì— ê°€ê¹ë„¤ìš”ğŸ˜‚) ì•„ì§ ì˜ ëª°ë¼ í‹€ë¦° ë¶€ë¶„ì´ ìˆì„ ìˆ˜ë„ ìˆìœ¼ë‹ˆ ì˜¤ë¥˜ê°€ ìˆìœ¼ë©´ ëŒ“ê¸€ ë¶€íƒë“œë¦½ë‹ˆë‹¤ ğŸ˜Š

## ì´ë”ë¦¬ì›€ê³¼ ì†”ë¦¬ë””í‹°

**ì´ë”ë¦¬ì›€ê³¼ ë””ì•±(Dapps)**

ì´ë”ë¦¬ì›€ì€ ìì²´ ë¸”ë¡ì²´ì¸ì„ ê¸°ë°˜ìœ¼ë¡œ ë‹¤ì–‘í•œ íƒˆì¤‘ì•™í™” ëœÂ [ì• í”Œë¦¬ì¼€ì´ì…˜](http://wiki.hash.kr/index.php/%EC%95%A0%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98)ë“¤ì´ ì‘ë™í•  ìˆ˜ ìˆë„ë¡ ê³ ì•ˆëœ í•˜ë‚˜ì˜Â [í”Œë«í¼](http://wiki.hash.kr/index.php/%ED%94%8C%EB%9E%AB%ED%8F%BC)Â ë„¤íŠ¸ì›Œí¬ì´ë‹¤.Â [ë””ì•±](http://wiki.hash.kr/index.php/%EB%94%94%EC%95%B1)ì€ ì´ëŸ¬í•œ ì´ë”ë¦¬ì›€ í”Œë«í¼ ìƒì—ì„œÂ [ìŠ¤ë§ˆíŠ¸ ê³„ì•½](http://wiki.hash.kr/index.php/%EC%8A%A4%EB%A7%88%ED%8A%B8_%EA%B3%84%EC%95%BD)ì„ ì´ìš©í•˜ì—¬ ì‰½ê³  ë¹ ë¥´ê²Œ í† í°ì„ ë°œí–‰í•  ìˆ˜ ìˆë‹¤. ì´ë”ë¦¬ì›€ ë¸”ë¡ì²´ì¸ì—ì„œëŠ”Â [ì´ë”](http://wiki.hash.kr/index.php/%EC%9D%B4%EB%8D%94)(ETH)ê°€ ì‚¬ìš©ë˜ê³ , ì´ë”ë¦¬ì›€ ë¸”ë¡ì²´ì¸ ìƒì˜ ë””ì•±ì€ ë˜ ë‹¤ë¥¸ ë‹¤ì–‘í•œ ë¶„ì•¼ì— ì ìš©ë  ìˆ˜ ìˆëŠ” ê°ê°ì˜ ì†”ë£¨ì…˜ìœ¼ë¡œ ê·¸ì— ë§ëŠ” í† í°ì„ ë°œí–‰í•˜ëŠ” ê²ƒì´ë‹¤. ì´ ë•Œ ë°œí–‰ëœ í† í°ì€ ë…ìì ì¸ í† í°ì¸ ë“¯ í•˜ì§€ë§Œ ì‹¤ì œë¡œëŠ” ì´ë”ë¦¬ì›€ ìƒíƒœê³„ì—ì„œ í˜¸í™˜ ë° ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤. 

ì˜ˆë¥¼ ë“¤ì–´,Â [ì•ˆë“œë¡œì´ë“œ](http://wiki.hash.kr/index.php/%EC%95%88%EB%93%9C%EB%A1%9C%EC%9D%B4%EB%93%9C)Â ë°Â [iOS](http://wiki.hash.kr/index.php/IOS)ê°€ í•˜ë‚˜ì˜ í”Œë«í¼ ì—­í• ì„ í•˜ê³  ê·¸ ìœ„ì— ì¡´ì¬í•˜ëŠ” ìˆ˜ë§ì€ ì•±ë“¤ì´ ìˆë‹¤. ë‹¨ìˆœ ë¹„êµí•´ë³´ë©´, ì•ˆë“œë¡œì´ë“œ ë° iOSê°€ ì´ë”ë¦¬ì›€ í”Œë«í¼ ì—­í• ì„ í•˜ê³  ê·¸ ìœ„ì— ì¡´ì¬í•˜ëŠ” ì•±ì´ ë””ì•±ê³¼ ê°™ì€ ê²ƒì´ë‹¤. (ì¶œì²˜: í•´ì‹œë„·)

**ì†”ë¦¬ë””í‹°ë€?**

ì†”ë¦¬ë””í‹°(Solidity)ëŠ” ì´ë”ë¦¬ì›€ ë“± ë¸”ë¡ì²´ì¸ í”Œë«í¼ì—ì„œ ìŠ¤ë§ˆíŠ¸ ê³„ì•½ ì‘ì„±ê³¼ êµ¬í˜„ì— ì‚¬ìš©ë˜ëŠ” ê³„ì•½ ì§€í–¥ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì´ë‹¤. ì†”ë¦¬ë””í‹°ëŠ” ì´ë”ë¦¬ì›€ í•µì‹¬ ê¸°ì—¬ìë“¤ì— ì˜í•´ ì´ë”ë¦¬ì›€ê³¼ ê°™ì€ ë¸”ë¡ì²´ì¸ í”Œë«í¼ìƒì— ìŠ¤ë§ˆíŠ¸ ê³„ì•½ì„ ì‘ì„±í•  ìˆ˜ ìˆë„ë¡ ê°œë°œë˜ì—ˆë‹¤. ê°œë°œìëŠ” ì†”ë¦¬ë””í‹°ë¥¼ í†µí•´ì„œ ìŠ¤ìŠ¤ë¡œ ì‹¤í–‰ë˜ëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ìŠ¤ë§ˆíŠ¸ ê³„ì•½ì— ë‹´ì•„ì„œ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.[1] ì†”ë¦¬ë””í‹°ë¥¼ í†µí•´ ë‹¤ì–‘í•œ ì•±ì„ êµ¬í˜„í•  ìˆ˜ ìˆì§€ë§Œ ë¸”ë¡ì²´ì¸ íŠ¹ì„±ìƒ ìŠ¤ë§ˆíŠ¸ ê³„ì•½ì´ ë¸”ë¡ì²´ì¸ì— í•œë²ˆ ì˜¬ë¼ê°€ë©´ ìˆ˜ì •í•  ìˆ˜ ì—†ìœ¼ë©° ëˆ„êµ¬ë‚˜ í™•ì¸í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì‹ ì¤‘í•˜ê²Œ ì‘ì„±ì„ í•´ì•¼ í•œë‹¤.[2] (ì¶œì²˜: í•´ì‹œë„·)

## SR (Software Requirements)

### ğŸ§‘â€ğŸ’» ê¸°ìˆ  ìŠ¤íƒ

- Node.js
- `FrontEnd`: React (using vite)
- `BackEnd`: Solidity (using hardhat)

### ğŸ§‘â€ğŸ’» ì£¼ìš”ê¸°ëŠ¥

- ë©”íƒ€ë§ˆìŠ¤í¬ ì§€ê°‘ì—°ê²°
- ë¶„ì‚°í™”ëœ ì €ì¥ ì‹œìŠ¤í…œ(IPFS)ì— ì›ë³¸ ë°ì´í„°ì…‹ ì—…ë¡œë“œ & NFT í† í° ë°œí–‰
- ERC-721 í† í°ì„ ì‚¬ìš©í•˜ì—¬ ë””ì§€í„¸ ì›ë³¸ ì´ë¯¸ì§€ì— ëŒ€í•œ NFT í† í° ë°œí–‰
	- OpenZepplin ì°¸ê³ 
- NFT ì‘í’ˆ Minting & Transaction


## [IPFS](https://docs.ipfs.io/install/ipfs-desktop/#windows)

> IPFSëŠ” ë¶„ì‚°ëœ P2PíŒŒì¼ ì‹œìŠ¤í…œì— ì•ˆì „í•˜ê²Œ NFTë¥¼ ì €ì¥í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì—, ì¼ë°˜ì ì¸ URLê³¼ ê°™ì€ ë§í¬ ëŠê¹€, 404ì˜¤ë¥˜ì™€ ê°™ì€ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆë‹¤. 
> 
> ë³¸ í”„ë¡œì íŠ¸ì—ì„œëŠ” **IPFS**ë¥¼ ì´ìš©í•˜ì—¬ NFTê±°ë˜ì— ì‚¬ìš©ëœ ë””ì§€í„¸ ì›ë³¸ í¬í† ì¹´ë“œë¥¼ ë¶„ì‚°í˜• ì €ì¥ë§¤ì²´ì— ì €ì¥í•˜ì˜€ë‹¤.


**IPFSë€?**
(ì•„ì´í”¼ì—í”„ì—ìŠ¤)ëŠ” "InterPlanetary File System"ì˜ ì•½ìë¡œì„œ, ë¶„ì‚°í˜• íŒŒì¼ ì‹œìŠ¤í…œì— ë°ì´í„°ë¥¼ ì €ì¥í•˜ê³  ì¸í„°ë„·ìœ¼ë¡œ ê³µìœ í•˜ê¸° ìœ„í•œÂ [í”„ë¡œí† ì½œ](http://wiki.hash.kr/index.php/%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C)ì´ë‹¤.Â [ëƒ…ìŠ¤í„°](http://wiki.hash.kr/index.php?title=%EB%83%85%EC%8A%A4%ED%84%B0&action=edit&redlink=1),Â [í† ë ŒíŠ¸](http://wiki.hash.kr/index.php/%ED%86%A0%EB%A0%8C%ED%8A%B8)(Torrent) ë“±Â [P2P](http://wiki.hash.kr/index.php/P2P)Â ë°©ì‹ìœ¼ë¡œ ëŒ€ìš©ëŸ‰ íŒŒì¼ê³¼ ë°ì´í„°ë¥¼ ê³µìœ í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•œë‹¤. 
ê¸°ì¡´ì˜Â [HTTP](http://wiki.hash.kr/index.php/HTTP)Â ë°©ì‹ì€ ë°ì´í„°ê°€ ìœ„ì¹˜í•œ ê³³ì˜ ì£¼ì†Œë¥¼ ì°¾ì•„ê°€ì„œ ì›í•˜ëŠ” ì½˜í…ì¸ ë¥¼ í•œêº¼ë²ˆì— ê°€ì ¸ì˜¤ëŠ” ë°©ì‹ì´ì—ˆì§€ë§Œ, IPFSëŠ” ë°ì´í„°ì˜ ë‚´ìš©ì„ ë³€í™˜í•œ í•´ì‹œê°’ì„ ì´ìš©í•˜ì—¬ ì „ ì„¸ê³„ ì—¬ëŸ¬ ì»´í“¨í„°ì— ë¶„ì‚° ì €ì¥ë˜ì–´ ìˆëŠ” ì½˜í…ì¸ ë¥¼ ì°¾ì•„ì„œ ë°ì´í„°ë¥¼ ì¡°ê°ì¡°ê°ìœ¼ë¡œ ì˜ê²Œ ë‚˜ëˆ ì„œ ë¹ ë¥¸ ì†ë„ë¡œ ê°€ì ¸ì˜¨ í›„ í•˜ë‚˜ë¡œ í•©ì³ì„œ ë³´ì—¬ì£¼ëŠ” ë°©ì‹ìœ¼ë¡œ ì‘ë™í•œë‹¤. í•´ì‹œ í…Œì´ë¸”ì€ ì •ë³´ë¥¼ í‚¤ì™€ ê°’ì˜ ìŒ(key/value pairs)ìœ¼ë¡œ ì €ì¥í•˜ëŠ”ë°, ì „ ì„¸ê³„ ìˆ˜ë§ì€ ë¶„ì‚°í™”ëœÂ [ë…¸ë“œ](http://wiki.hash.kr/index.php/%EB%85%B8%EB%93%9C) ë“¤ì´ í•´ë‹¹ ì •ë³´ë¥¼ ì €ì¥í•˜ê¸° ë•Œë¬¸ì— ì‚¬ìš©ìëŠ” IPFSë¥¼ ì‚¬ìš©í•¨ìœ¼ë¡œì¨ ê¸°ì¡´ HTTP ë°©ì‹ì— ë¹„í•´ í›¨ì”¬ ë¹ ë¥¸ ì†ë„ë¡œ ë°ì´í„°ë¥¼ ì €ì¥í•˜ê³  ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤. (ì¶œì²˜: [í•´ì‹œë„·](http://wiki.hash.kr/index.php/IPFS))


### Install by command line

- ë‹¤ìŒ ì˜ìƒ ì°¸ê³ 
  - [Install IPFS Node and upload files using M1 Mac Mini](https://www.youtube.com/watch?v=yxzEIlShZp4)
    
- command lineì„ ì´ìš©í•´ì„œë„ ipfsë¥¼ ì„¤ì¹˜í•  ìˆ˜ ìˆë‹¤.
    
    ```jsx
    # m1ì´ë¼ë©´ ë‹¤ìŒ commandë¥¼ ì´ìš©
    curl -O https://dist.ipfs.io/go-ipfs/v0.12.2/go-ipfs_v0.12.2_darwin-amd64.tar.gz
    
    # ì••ì¶•í•´ì œ
    tar -xvzf go-ipfs_v0.12.2_darwin-amd64.tar.gz
    
    # ì„¤ì¹˜
    cd go-ipfs
    bash install.sh
    
    > Moved ./ipfs to /usr/local/bin
    
    # ë²„ì „ í™•ì¸
    ipfs --version
    
    > ipfs version 0.12.0
    ```
    
- ipfs ì„œë²„ ì—´ê¸°
    
    ```jsx
    â¯ ipfs init                                                                                  ï€— 16:37:39
    generating ED25519 keypair...done
    peer identity: 12D3KooWCixEwUyDUbJbcZN7967PB2G14ipu8HZTQEbhYnb1B1xp
    initializing IPFS node at /Users/user/.ipfs
    to get started, enter:
    
            ipfs cat /ipfs/QmQPeNsJPyVWPFDVHb77w8G42Fvo15z4bG2X8D2GhfbSXc/readme
    
    â¯ ipfs daemon
    API server listening on /ip4/127.0.0.1/tcp/5001
    WebUI: http://127.0.0.1:5001/webui
    Gateway (readonly) server listening on /ip4/127.0.0.1/tcp/8080
    Daemon is ready
    ```
    
- ë‹¤ìŒê³¼ ê°™ì´ ì›¹í˜ì´ì§€ê°€ í˜¸ìŠ¤íŒ…ë¨
    
    <p align='center'><img src='https://github.com/happy-jihye/happy-jihye.github.io/blob/master/_posts/images/etc/nft-2/Untitled.png?raw=1' width = '700' ></p>
    
- íŒŒì¼ ì—…ë¡œë“œ
    
    <p align='center'><img src='https://github.com/happy-jihye/happy-jihye.github.io/blob/master/_posts/images/etc/nft-2/Untitled%201.png?raw=1' width = '700' ></p>
    
    <p align='center'><img src='https://github.com/happy-jihye/happy-jihye.github.io/blob/master/_posts/images/etc/nft-2/Untitled%202.png?raw=1' width = '700' ></p>
    
    - `IPFS ê²Œì´íŠ¸ì›¨ì´`ë¡œ ë³´ì•„ë„ ì´ë¯¸ì§€ê°€ ì˜ ì—…ë¡œë“œ ë˜ì—ˆìŒì„ í™•ì¸í•  ìˆ˜ ìˆìŒ

## ğŸ’» Web3

### Frontend

í”„ë¡ íŠ¸ì•¤ë“œ ì§€ì› íˆ´ì¸ [`vite`](https://vitejs-kr.github.io/)ë¥¼ ì´ìš©í•˜ì—¬ í”„ë¡ íŠ¸ì•¤ë“œë¥¼ ìƒì„±

- ë™ì ìœ¼ë¡œ UIë¥¼ ë§Œë“¤ ìˆ˜ ìˆëŠ”  `React` ì›¹ í”„ë ˆì„ì›Œí¬ë¥¼ ì‚¬ìš©í•˜ì—¬ appì„ ìƒì„±í•˜ì˜€ìŒ

```jsx
â¯ npm init vite myapp                                                                                                      ï€— 16:47:17

Need to install the following packages:
  create-vite
Ok to proceed? (y) y
âœ” Select a framework: â€º react
âœ” Select a variant: â€º react

Scaffolding project in /Users/user/Code/blockchain/myapp...

Done. Now run:

  cd myapp
  npm install
  npm run dev
```

### backend

- `hardhat`ì„ ì´ìš©í•˜ì—¬ dapp ê°œë°œ
    - `hardhat`ì´ë€?
        - ethereum ê°œë°œì„ í•  ë•Œ compile, deploy, testë¥¼ ëª¨ë‘ ì§„í–‰í•  ìˆ˜ ìˆëŠ” ê°œë°œ í”„ë ˆì„ì›Œí¬
        - íŠ¸ëŸ¬í”Œê³¼ ìœ ì‚¬í•œÂ **ì´ë”ë¦¬ì›€ ê¸°ë°˜ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ ê°œë°œ**Â ë„êµ¬ë¡œ, ìë°”ìŠ¤í¬ë¦½íŠ¸ ê¸°ë°˜ìœ¼ë¡œ ììœ ë„ê°€ ë†’ê³  ìœ ì—°í•œ ê°œë°œ í™˜ê²½ì„ ì œê³µí•˜ë©°, íŠ¹íˆ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ì—ì„œ console.logë¥¼ ì‚¬ìš©í•˜ì—¬ ê°’ì„ ì¶œë ¥í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ë„ ì œê³µí•œë‹¤.
        - ìš”ì¦˜ì€ truffleë³´ë‹¤ hardhatì´ ëŒ€ì„¸ë¼ê³  í•˜ë”ë¼êµ¬ìš”ã…ã…
    - install
        ```jsx
        npx hardhat
        npm install --save-dev @nomiclabs/hardhat-waffle ethereum-waffle chai @nomiclabs/hardhat-ethers ethers @openzeppelin/contracts
        ```
        
    - hardhatì€ nodeì—ì„œ ë™ì‘í•˜ê¸° ë•Œë¬¸ì— reactì™€ ì—°ë™ì´ ì‰½ë‹¤.
        - `hardhat.config.js`ì—ì„œ artifactì˜ ì»´íŒŒì¼ ê²½ë¡œë¥¼ ì—…ë°ì´íŠ¸í•´ì„œ reactë‘ ì—°ë™í•˜ì˜€ë‹¤.
            
            ```jsx
            module.exports = {
              solidity: "0.8.4",
              paths: {
                artifacts: './src/artifacts'
              }
            };
            ```
            

### Token

- **ERC-20**
    - Fungible Tokens
    - ERC-20ì€ Ethereum Request for Comments 20ì˜ ì•½ìë¡œ ì´ë”ë¦¬ì›€ ë„¤íŠ¸ì›Œí¬ ìƒì—ì„œ ìœ í†µí•  ìˆ˜ ìˆëŠ” í† í°ì˜ í˜¸í™˜ì„±ì„ ë³´ì¥í•˜ê¸° ìœ„í•œ í‘œì¤€ ì‚¬ì–‘ì´ë‹¤. ERC-20 í† í°ì€ ìŠ¤ë§ˆíŠ¸ ê³„ì•½ì˜ ì†ì„±ì„ ì§€ì›í•´ì•¼ë§Œ í•œë‹¤. ìŠ¤ë§ˆíŠ¸ ê³„ì•½ì€ ì˜¨ë¼ì¸ í™˜ê²½ì—ì„œ ì•”í˜¸í™”í êµí™˜ ì‹œ, ì¼ì • í–‰ë™ì´ ë¶ˆê°€ì—­ì ìœ¼ë¡œ ì „ê°œë˜ëŠ” ê¸°ëŠ¥ì„ í†µí•´, ì¤‘ì•™ê´€ë¦¬ê°€ ë°°ì œëœ ì„œë¹„ìŠ¤ë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆëŠ” ê²ƒì´ ë°”ë¡œ ìŠ¤ë§ˆíŠ¸ ê³„ì•½ì˜ ê°•ì ì´ë©°, ì´ë”ë¦¬ì›€ ë¸”ë¡ì²´ì¸ì—ì„œ êµ¬í˜„ì´ ìš©ì´í•˜ë‹¤. ë”°ë¼ì„œ, ë””ì•±ì€ ì´ë”ë¦¬ì›€ ë¸”ë¡ì²´ì¸ í”Œë«í¼ì„ í™œìš©í•´ ìì‹ ì˜ ë¹„ì¦ˆë‹ˆìŠ¤ë¥¼ êµ¬í˜„í•˜ê³ , ìê¸ˆëª¨ì§‘ ë° ê±°ë˜ì²´ê³„, í”Œë«í¼ ì‚¬ìš©ë£Œë¥¼ ì´ë”ë¦¬ì›€ìœ¼ë¡œ ì§€ë¶ˆí•˜ëŠ” ì²´ê³„ë¥¼ ê°€ì§€ê³  í† í°ì„ ë°œí–‰í•  í•„ìš”ê°€ í¬ë©°, ì‹¤ì œë¡œ ì´ë”ë¦¬ì›€ ê¸°ë°˜ìœ¼ë¡œ í† í° ë°œí–‰ì´ ë§ë‹¤. (ì¶œì²˜: í•´ì‹œë„·)
- **ERC-721**
    > ìš°ë¦¬ê°€ ì‚¬ìš©í•  NFTí† í°!  
    - Non Fungible Tokens (NFT)
    - EIP-721 ì´ë¼ê³ í•´ì„œ ì´ë”ë¦¬ì›€ ê°œì„  ì œì•ˆì˜ 721ë²ˆì§¸ í† ë¡ ì—ì„œ ì±„íƒëœ ê°ê° êµ¬ë¶„ ê°€ëŠ¥í•œ í† í°.
    - **ERC-721**ì€ ì¦ì„œë¼ê³  ì•Œë ¤ì§„Â **[NFT](http://wiki.hash.kr/index.php/NFT)**ì˜ í‘œì¤€ì•ˆì´ë‹¤. NFTëŠ”Â **[ëŒ€ì²´ë¶ˆê°€í† í°](http://wiki.hash.kr/index.php/%EB%8C%80%EC%B2%B4%EB%B6%88%EA%B0%80%ED%86%A0%ED%81%B0)**(Non Fungible Token)ì˜ ì•½ìë¡œ ëŒ€ì²´ ë¶ˆê°€ëŠ¥í•œÂ [í† í°](http://wiki.hash.kr/index.php/%ED%86%A0%ED%81%B0)ì´ë¼ëŠ” ì˜ë¯¸ì´ë‹¤. ë”°ë¼ì„œ ERC-721ë¡œ ë°œí–‰ë˜ëŠ” í† í°ì€ ëŒ€ì²´ ë¶ˆê°€ëŠ¥í•˜ì—¬ ëª¨ë‘ ì œ ê°ê°ì˜ ê°€ì¹˜(Value)ë¥¼ ê°–ê³  ìˆë‹¤.
    - ERC-721ì€ í† í° ê·¸ ìì²´ë³´ë‹¤ëŠ” ê²Œì„ì— ì£¼ë¡œ ì“°ì´ëŠ”ë°, ëŒ€í‘œì ì¸ ì˜ˆë¡œëŠ”Â [í¬ë¦½í† í‚¤í‹°](http://wiki.hash.kr/index.php/%ED%81%AC%EB%A6%BD%ED%86%A0%ED%82%A4%ED%8B%B0)(CryptoKitties)ê°€ ìˆë‹¤. í¬ë¦½í† í‚¤í‹°ì˜ ê³ ì–‘ì´ë“¤ì€ ì œ ê°ê° ë‹¤ë¥¸ ìƒê¹€ìƒˆë¥¼ ê°€ì§€ê³  ìˆë‹¤. ë”°ë¼ì„œ ì‚¬ìš©ìê°€ ë³´ìœ í•˜ê³  ìˆëŠ” ê³ ì–‘ì´ëŠ” ì „ ì„¸ê³„ì—ì„œ ë‹¨ í•˜ë‚˜ë°–ì— ì—†ëŠ” ìœ ì¼í•œ ê³ ì–‘ì´ê°€ ëœë‹¤.

### OpenZepplin

- ì†”ë¦¬ë””í‹° ê¸°ë°˜ì˜ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ë¥¼ ê°œë°œí•˜ëŠ”ë° ë„ì›€ì„ ì£¼ëŠ” í”„ë ˆì„ì›Œí¬
- install
    
    ```jsx
    npm install @openzeppelin/contracts
    ```
    
- `OpenZepplin` ì‚¬ì´íŠ¸ì— ë“¤ì–´ê°€ë©´.. ë‹¤ìŒê³¼ ê°™ì´ NFT í† í°ì„ ë°œí–‰í•´ì£¼ëŠ” ì†ŒìŠ¤ ì½”ë“œë¥¼ ì œê³µí•´ì¤€ë‹¤.
    
    <p align='center'><img src='https://github.com/happy-jihye/happy-jihye.github.io/blob/master/_posts/images/etc/nft-2/Untitled%203.png?raw=1' width = '700' ></p>
    
    ë³¸ í”„ë¡œì íŠ¸ì—ì„œëŠ” ì˜¤í”ˆ ì œí”Œë¦°ì— ë‚˜ì™€ìˆëŠ” `ERC721`ì‚¬ìš©ë²•ì— ë”°ë¼ mintingì„ í•˜ê³ , ëˆì„ ë‚´ê³ .. í•˜ëŠ” ì½”ë“œë¥¼ ì‘ì„±í•˜ì˜€ë‹¤.
    
    - Code
        
        ```jsx
        // SPDX-License-Identifier: MIT
        pragma solidity ^0.8.4;
        
        import "@openzeppelin/contracts/token/ERC721/ERC721.sol";
        import "@openzeppelin/contracts/token/ERC721/extensions/ERC721URIStorage.sol";
        import "@openzeppelin/contracts/access/Ownable.sol";
        import "@openzeppelin/contracts/utils/Counters.sol";
        
        contract FiredGuys is ERC721, ERC721URIStorage, Ownable {
            using Counters for Counters.Counter;
        
            Counters.Counter private _tokenIdCounter;
        
            mapping(string => uint8) existingURIs;
        
            constructor() ERC721("MyToken", "MTK") {}
        
            function _baseURI() internal pure override returns (string memory) {
                return "ipfs://";
            }
        
            // Only Owner
            function safeMint(address to, string memory uri) public onlyOwner {
                uint256 tokenId = _tokenIdCounter.current();
                _tokenIdCounter.increment();
                _safeMint(to, tokenId);
                _setTokenURI(tokenId, uri);
            }
        
            // The following functions are overrides required by Solidity.
        
            function _burn(uint256 tokenId) internal override(ERC721, ERC721URIStorage) {
                super._burn(tokenId);
            }
        
            function tokenURI(uint256 tokenId)
                public
                view
                override(ERC721, ERC721URIStorage)
                returns (string memory)
            {
                return super.tokenURI(tokenId);
            }
        
            function isContentOwned(string memory uri) public view returns (bool) {
                return existingURIs[uri] == 1;
            }
        
            function payToMint(
                address recipient,
                string memory metadataURI
            ) public payable returns (uint256) {
                require(existingURIs[metadataURI] != 1, 'NFT already minted!');
                require (msg.value >= 0.05 ether, 'Need to pay up!');
        
                uint256 newItemId = _tokenIdCounter.current();
                _tokenIdCounter.increment();
                existingURIs[metadataURI] = 1;
        
                _mint(recipient, newItemId);
                _setTokenURI(newItemId, metadataURI);
        
                return newItemId;
            }
        
            function count() public view returns (uint256){
                return _tokenIdCounter.current();
            }
        }
        ```
        

### Transaction & Mint

ë°œí–‰í•œ í† í°ì„ ë¶ˆëŸ¬ì˜¤ê³ , ëˆ„êµ°ê°€ ëˆì„ ë‚´ë©´ NFT ì‘í’ˆì„ mintingì„ í•˜ëŠ” ì½”ë“œ

- `test/sample-test.js`
    
    ```jsx
    const { expect } = require("chai");
    const { ethers } = require("hardhat");
    
    describe("myNFT", function () {
      it("Should mint and transfer an NFT to someone", async function () {
        const FiredGuys = await ethers.getContractFactory("FiredGuys");
        const firedguys = await FiredGuys.deploy();
      
        await firedguys.deployed();
    
        // recipient: `npx hardhat node`ì—ì„œ ì–»ì€ public key ê°’
        const recipient = '0x15d34aaf54267db7d7c367839aaf71a00a2c6a65';
        const metadataURI = 'cid/test.png';
    
        let balance = await firedguys.balanceOf(recipient);
        expect(balance).to.equal(0);
    
        const newlyMintedToken = await firedguys.payToMint(recipient, metadataURI, {value: ethers.utils.parseEther('0.05')});
    
        // wait until the transaction is minted
        await newlyMintedToken.wait()
        
        balance = await firedguys.balanceOf(recipient);
        expect(balance).to.equal(1);
        
        expect(await firedguys.isContentOwned(metadataURI)).to.equal(true);
    
      });
    });
    ```
    
    ```jsx
    // test
    npx hardhat test
    ```
    
- `scripts/sample-script.js`
    
    ```jsx
    const hre = require("hardhat");
    
    async function main() {
    
      const FiredGuys = await hre.ethers.getContractFactory("FiredGuys");
      const firedGuys = await FiredGuys.deploy();
    
      await firedGuys.deployed();
    
      console.log("firedguys deployed to:", firedGuys.address);
    }
    
    main()
      .then(() => process.exit(0))
      .catch((error) => {
        console.error(error);
        process.exit(1);
      });
    ```
    

- `src/components`
    - `Home.jsx`
        
        ```jsx
        import WalletBalance from './WalletBalance';
        import { useEffect, useState } from 'react';
        
        import { ethers } from 'ethers';
        import FiredGuys from '../artifacts/contracts/MyNFT.sol/FiredGuys.json';
        
        // npx hardhat run scripts/sample-script.js --network localhost   
        const contractAddress = '0x5FbDB2315678afecb367f032d93F642f64180aa3';
        const provider = new ethers.providers.Web3Provider(window.ethereum);
        
        // get the end user
        const signer = provider.getSigner();
        // get the smart contract
        const contract = new ethers.Contract(contractAddress, FiredGuys.abi, signer);
        
        function Home() {
        
          const [totalMinted, setTotalMinted] = useState(0);
          useEffect(() => {
            getCount();
          }, []);
        
          const getCount = async () => {
            const count = await contract.count();
            console.log(parseInt(count));
            setTotalMinted(parseInt(count));
          };
        
          return (
            <div>
                <WalletBalance />
                <h1> ğŸ–¼ Idol PhotoCard - NFT Market </h1>
                  {Array(totalMinted + 1)
                  .fill(0)
                  .map((_, i) => (
                      <div key={i}>
                      <NFTImage tokenId={i} getCount={getCount} />
                      </div>
                  ))}
            </div>
          );
        }
        
        function NFTImage({ tokenId, getCount }) {
          const contentId = 'QmSRccBaE2Xb92D6umiZbwbABCcGB62kDE19ZoudwC7uSR';
          const metadataURI = `${contentId}/${tokenId}.json`;
          // const imageURI = `${contentId}/${tokenId}.png`;
          const imageURI = `../../out/${tokenId}.png`;
          
          const [isMinted, setIsMinted] = useState(false);
          
          useEffect(() => {
            getMintedStatus();
          }, [isMinted]);
        
          const getMintedStatus = async () => {
            const result = await contract.isContentOwned(metadataURI);
            console.log(result)
            setIsMinted(result);
          };
        
          const mintToken = async () => {
            const connection = contract.connect(signer);
            const addr = connection.address;
            const result = await contract.payToMint(addr, metadataURI, {
              value: ethers.utils.parseEther('0.05'),
            });
        
            await result.wait();
            getMintedStatus();
          };
        
          async function getURI() {
            const uri = await contract.tokenURI(tokenId);
            alert(uri);
          }
          return (
            <div>
              <img src={ imageURI } width={256} ></img>
                <h5>ID #{tokenId}</h5>
                {!isMinted ? (
                  <button onClick={mintToken}>
                    ğŸ–¼ í¬í† ì¹´ë“œ êµ¬ë§¤í•˜ê¸°
                  </button>
                ) : (
                  <button onClick={getURI}>
                    êµ¬ë§¤ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤! URIì„ í™•ì¸í•˜ì„¸ìš” :)
                  </button>
                )}
            </div>
          );
        }
        
        export default Home;
        ```
        
    - `Install.jsx`
        
        ```jsx
        const Install = () => {
            return (
              <div>
                <h3>Follow the link to install ğŸ‘‡ğŸ¼</h3>
                <a href="https://metamask.io/download.html">Meta Mask</a>
              </div>
            );
          };
          
        export default Install;
        ```
        
    - `WalletBalance.jsx`
        
        ```jsx
        import { useState } from 'react';
        import { ethers } from 'ethers';
        
        function WalletBalance() {
        
            const [balance, setBalance] = useState();
            
            const getBalance = async () => {
                const [account] = await window.ethereum.request({ method: 'eth_requestAccounts' });
                const provider = new ethers.providers.Web3Provider(window.ethereum);
                const balance = await provider.getBalance(account);
                setBalance(ethers.utils.formatEther(balance));
            };
          
            return (
              <div>
                  <h5>ë‚´ ìì‚°: {balance}</h5>
                  <button onClick={() => getBalance()}> ğŸ’¸ğŸ’µ ì§€ê°‘ì— ìˆëŠ” ëˆ í™•ì¸í•˜ê¸° </button>
              </div>
            );
          };
          
          export default WalletBalance;
        ```
        
- ì›¹ í˜ì´ì§€ í˜¸ìŠ¤íŒ…
    
    ```jsx
    //background
    npx hardhat node
    
    npx hardhat run scripts/sample-script.js --network localhost
    // firedguys deployed to: 0x5FbDB2315678afecb367f032d93F642f64180aa3
    ```
    
    ```jsx
    npm run dev
    ```
    

## ê²°ê³¼

### ë©”íƒ€ë§ˆìŠ¤í¬ ì§€ê°‘ ì—°ê²°

<p align='center'><img src='https://github.com/happy-jihye/happy-jihye.github.io/blob/master/_posts/images/etc/nft-2/nft_1.gif?raw=1' width = '750' ></p>


### NFT ì‘í’ˆ Minting & Transaction

<p align='center'><img src='https://github.com/happy-jihye/happy-jihye.github.io/blob/master/_posts/images/etc/nft-2/nft_2.gif?raw=1' width = '750' ></p>

---

## Reference

- [Build a WEB3 app to mint unlimited NFTsâ€¦ But should you?](https://www.youtube.com/watch?v=meTpMP0J5E8&t=1106)
- [Web3 NFT Tutorial](https://fireship.io/lessons/web3-solidity-hardhat-react-tutorial/)
- [[í”„ë¡œì íŠ¸] NFTì• í”Œë¦¬ì¼€ì´ì…˜ ë§Œë“¤ê¸°(OpenSea)](https://velog.io/@mijin60/%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-NFT%EC%95%A0%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98-%EB%A7%8C%EB%93%A4%EA%B8%B0OpenSea)